<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MediaPipe Finger Counter</title>

  <!-- MediaPipe libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>

  <style>
    body {
      text-align: center;
      background: #0f172a;
      color: white;
      font-family: Arial, sans-serif;
    }
    video, canvas {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }
    h1 {
      margin-top: 500px;
      font-size: 48px;
    }
  </style>
</head>

<body>

  <h2>MediaPipe Finger Counter</h2>

  <video id="video" autoplay playsinline></video>
  <canvas id="canvas"></canvas>

  <h1 id="count">Fingers: 0</h1>

<script>
  const videoElement = document.getElementById("video");
  const canvasElement = document.getElementById("canvas");
  const canvasCtx = canvasElement.getContext("2d");
  const countElement = document.getElementById("count");

  // Initialize MediaPipe Hands
  const hands = new Hands({
    locateFile: (file) =>
      `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`
  });

  hands.setOptions({
    maxNumHands: 1,
    modelComplexity: 1,
    minDetectionConfidence: 0.7,
    minTrackingConfidence: 0.7
  });

  // Finger counting logic
  function countFingers(landmarks) {
    let fingers = 0;

    // Thumb (works for right hand)
    if (landmarks[4].x < landmarks[3].x) fingers++;

    // Index
    if (landmarks[8].y < landmarks[6].y) fingers++;

    // Middle
    if (landmarks[12].y < landmarks[10].y) fingers++;

    // Ring
    if (landmarks[16].y < landmarks[14].y) fingers++;

    // Pinky
    if (landmarks[20].y < landmarks[18].y) fingers++;

    return fingers;
  }

  // Process results
  hands.onResults((results) => {
    canvasElement.width = videoElement.videoWidth;
    canvasElement.height = videoElement.videoHeight;
    canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);

    if (results.multiHandLandmarks) {
      for (const landmarks of results.multiHandLandmarks) {
        drawConnectors(canvasCtx, landmarks, HAND_CONNECTIONS, { color: "#00ff00" });
        drawLandmarks(canvasCtx, landmarks, { color: "#ff0000" });

        const fingerCount = countFingers(landmarks);
        countElement.innerText = "Fingers: " + fingerCount;
      }
    }
  });

  // Start camera
  const camera = new Camera(videoElement, {
    onFrame: async () => {
      await hands.send({ image: videoElement });
    },
    width: 640,
    height: 480
  });

  <!-- deployed via github pages -->

  camera.start();
</script>
  </body>
</html>



